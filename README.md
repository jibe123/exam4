API для сети ритейл-магазинов сделанная в рамках экзамена по курсу PTN-W22.

Приложение позволяет (POST-запросы):

1 - создавать магазины сети:

[POST] http://127.0.0.1:8000/api/v1/stores/
Шаблон json-запроса:
      {"title": "Название магазина",
       "address": "Адрес магазина"}
       
2 - добавлять продукты:

[POST] http://127.0.0.1:8000/api/v1/products/add/
Шаблон json-запроса:
      {"title": "Название продукта",
       "description": "Описание продукта",
       "price": Цена продукта в формате XX.XX}
       
3 - вводить в базу данных поставки (в какой магазин какое количество):

[POST] http://127.0.0.1:8000/api/v1/stores/{id}/supply/
Шаблон json-запроса:
      {"product": id продукта в базе данных,
       "quantity": количество поставленного продукта}
       
       или в виде списка продуктов:
       
      [{"product": id продукта #1 в базе данных,
       "quantity": количество поставленного продукта #1},
      {"product": id продукта #2 в базе данных,
       "quantity": количество поставленного продукта #2},
       ... и т.д.]
Если некоторое количество поставляемого продукта уже имеется в базе данных магазина, то поставляемое количество добавляется к уже имеющемуся, а запись в базе данных обновляется. Если же указанного продукта еще нет, то он добавляется в базу данных. Перед добавлением поставки необходимо убедиться, что товар с данным наименованием имеется в базе данных. Если нет, то его необходимо добавить через п. 2 выше.
       
4 - вводить в базу данных продажи (из какого магазина какое количество):

[POST] http://127.0.0.1:8000/api/v1/stores/{id}/buy/
Шаблон json-запроса:
      {"product": id продукта в базе данных,
       "quantity": количество проданного продукта}
       
       или в виде списка продуктов:
       
      [{"product": id продукта #1 в базе данных,
       "quantity": количество проданного продукта #1},
      {"product": id продукта #2 в базе данных,
       "quantity": количество проданного продукта #2},
       ... и т.д.]
Перед продажей продукта приложением проводится проверка наличия в базе данных указанных продуктов в указанных количествах. Если нет, то продажа не производится. Если же продукты имеются в достаточном количестве, то соответствующее количество продуктов списывается в базе данных, т.е. запись в базе данных обновляется (уменьшается на количество проданного продукта). Кроме того, запись о проданном продукте, его количестве и времени продажи появляется в таблице продаж в базе данных.

Приложение по запросу выгружает (GET-запросы):

1 - список магазинов сети:

[GET] http://127.0.0.1:8000/api/v1/stores/

2 - отдельная информация по каждому магазину с перечнем имеющихся продуктов:

[GET] http://127.0.0.1:8000/api/v1/stores/{id}/

